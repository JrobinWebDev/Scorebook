/*!
 * scorebook.
 * https://www.github.com/ryansmith94/Scorebook
 *
 * Copyright 2013, ryansmith94 and contributors.
 * Released under the MIT license.
 * https://github.com/ryansmith94/Scorebook/blob/master/license.md
 *
 * Version 1.0.4.
*/
!function(a,b,c){"use strict";var d=function(a,b){var c=Object.keys(a),d=c.length,e=0;return function f(){return a[c[e]]===b[c[e]]?(e+=1,d>=e?f():!0):!1}()},e=function(a,b,c){var d=a[a.length-1];c.id=b.length,c.parent=d,c.children=[],d.children.push(c),b.push(c)},f=function(a,b){return a.filter(function(a){return d(b,a)})},g=function(a){return isNaN(b(a))?0:a},h=function(){var a=this,d=[],h=[],i=[],j=[];return a.addInnings=function(b){return e([{children:[]}],d,{battingTeam:b}),a},a.addOver=function(b){return e(d,h,{bowler:b}),a},a.addBall=function(d,f,j,k,l,m,n,o,p,q,r,s){return e(h,i,{batsman:d,runs:g(f),wideBall:c(j),noBall:c(k),byes:c(l),legByes:c(m),wagonX:b(n),wagonY:b(o),pitchX:b(p),pitchY:b(q),batPen:g(r),bwlPen:g(s),dateTime:new Date}),a},a.addWicket=function(b,c,d){return e(i,j,{batsman:b,howOut:c,fielder:d}),a},a.getInnings=function(a){return f(d,a)},a.getOvers=function(a){return f(h,a)},a.getBalls=function(a){return f(i,a)},a.getWickets=function(a){return f(j,a)},a.undo=function(){var b=j[j.length-1]||{parent:null},c=i[i.length-1]||{parent:null},e=h[h.length-1]||{parent:null},f=d[d.length-1]||{parent:null},g=b.parent===c?[j,c]:c.parent===e?[i,e]:e.parent===f?[h,f]:[d,{children:[f]}];return g[1].children.pop(),g[0].pop(),a},a.data={innings:d,overs:h,balls:i,wickets:j},a},i=function(){return new h};"function"==typeof a.define?a.define("scorebook",[],function(){return i}):a.scorebook=i}(this,Number,Boolean);